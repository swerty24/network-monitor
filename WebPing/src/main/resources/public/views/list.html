<!--


Double Sorting angular table: https://codepen.io/ejsado/pen/pgmLQz?editors=1010



-->

<h3><center>List of Network Devices  <a class="btn btn-primary pull-right" href="#/create">
<i class="icon-plus-sign icon-white"></i> Add Device</a></h3></center>

<div class="container">
            
    <div class="row">
        <div class="col-xs-6 col-md-3">
            
            <div class="panel status panel-info">
                <div class="panel-heading">
                    <h1 class="panel-title text-center"> {{numDevices}}</h1>
                </div>
                <div class="panel-body text-center">                        
                    <strong>Devices</strong>
                </div>
            </div>

        </div>          
        <div class="col-xs-6 col-md-3">
          
            <div class="panel status panel-danger">
                <div class="panel-heading">
                    <h1 class="panel-title text-center">{{disconnectedDevicesPercent}}%</h1>
                </div>
                <div class="panel-body text-center">                        
                    <strong>Disconnected</strong>
                </div>
            </div>

        </div>
        <div class="col-xs-6 col-md-3">
           
            <div class="panel status panel-success">
                <div class="panel-heading">
                    <h1 class="panel-title text-center">{{connectedDevices}}</h1>
                </div>
                <div class="panel-body text-center">                        
                    <strong>Connected</strong>
                </div>
            </div>

         
        </div>
        <div class="col-xs-6 col-md-3">
          
            <div class="panel status panel-info">
                <div class="panel-heading">
                    <h1 class="panel-title text-center">18 min.</h1>
                </div>
                <div class="panel-body text-center">                        
                    <strong>Down Time</strong>
                </div>
            </div>

         
        </div>
    </div>

</div>       
       



<table class="table table-hover table-condensed">
    <tr>
        <th style="width: 7.5%">
            #
        </th>
        <th style="width: 15%">
         
            Ping
        </th>
         <th style="width: 15%">
         
            Agency/City
        </th>
        <th style="width: 15%">
			Title
        </th>
        <th style="width: 15%">
            IP Address
        </th>
        <th style="width: 15%">
      <!--  <a href="#/" ng-click="orderBy = 'createdOn'">
        <span ng-show="orderBy == 'createdOn'" class="fa fa-caret-down"></span> -->
            Last Ping Attempt
        </th>
        <th style="width: 7.5%">Remove</th>
    </tr>
    
    <tr ng-repeat="device in devices | toArray | orderBy : 'agency'" ng-class="{ 'table-success': device.pingable, 'table-secondary': !device.pingable }"  >
        <td>{{$index+1}}</td>
         <td>
         
  
 			 <button ng-click="myFunc(device.status)">Ping</button>
  
			
         	<!--<button type="submit" ng-change="devicePing(device.status)" ng-value="device.status" ng-model="device.status" class="btn btn-default">Ping</button>
             -->
        </td>
         <td>
            {{device.agency}}
        </td>
        <td>
            {{device.title}}
        </td>
        <td>
           <div ng-show="!device.pingable">{{device.inet}}</div>
           <div ng-show="!!device.pingable"><a href="http://{{device.inet}}:80">{{device.inet}}</a></div>
            
        </td>
        <td>
            {{device.lastPingFormatted |date:'medium'}}
        </td>
        <td>
            <center><input type="checkbox" ng-change="deviceStatusChanged(device)" ng-value="device.done" ng-model="device.done"><center>
        </td>
    </tr>
</table>

<!--
<p>The button has been clicked {{count}} times.</p>
-->